<!-- Assuming this is basket.component.html -->
<app-sidebar></app-sidebar>
<div class="relative md:ml-64 bg-blueGray-100">
  <div class="relative bg-white-200 md:pt-32 pb-500 pt-12">
    <div class="container px-5 py-24 mx-auto">
      <div class="container mx-auto p-4 max-w-3xl">
        <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
          <div class="flex justify-between mb-4">
            <div></div>
            <div class="text-right">
              <p class="text-sm">Date: {{ currentDate }}</p>
              <p class="text-sm">Time: {{ currentTime }}</p>
            </div>
          </div>
          <div *ngIf="message" class="bg-green-500 text-white px-4 py-2 rounded-md mb-4 animate-fade-out">{{ message }}</div>
          <!-- Customer Name Input -->
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="customerName">Customer Name</label>
            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                   id="customerName" type="text" [(ngModel)]="customerName" name="customerName">
          </div>
          <!-- Customer Phone Input -->
          <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="customerPhone">Customer Phone</label>
            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                   id="customerPhone" type="text" [(ngModel)]="customerPhone" name="customerPhone">
          </div>
          <!-- Basket Items List -->
          <div class="flex justify-between items-center mb-4">
            <div *ngIf="basketItems.length > 0">
              <div *ngFor="let item of basketItems" class="flex flex-wrap -mx-1 overflow-hidden mb-2">
                <!-- Product Name -->
                <div class="w-1/3 pr-2">
                  <label class="block text-gray-700 text-sm font-bold mb-2" for="product">Product</label>
                  <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                         type="text" [value]="item.name" readonly>
                </div>
                <!-- Quantity Input -->
                <div class="w-1/6 px-1">
                  <label class="block text-gray-700 text-sm font-bold mb-2" for="qty">Qty</label>
                  <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                         type="number" [min]="1" [(ngModel)]="item.quantity" [max]="item.oldQuantity" (ngModelChange)="calculateAmount(item)">
                </div>
                <!-- Price Display -->
                <div class="w-1/6 px-1">
                  <label class="block text-gray-700 text-sm font-bold mb-2" for="rate">Price</label>
                  <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 bg-gray-200 leading-tight focus:outline-none focus:shadow-outline"
                         type="text" [value]="item.price" readonly>
                </div>
                <!-- Amount Display -->
                <div class="w-1/6 pl-2">
                  <label class="block text-gray-700 text-sm font-bold mb-2" for="amount">Amount</label>
                  <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 bg-gray-200 leading-tight focus:outline-none focus:shadow-outline"
                         type="text" [value]="item.total" readonly>
                </div>
                <!-- Remove Item Button -->
                <div class="w-1/6 pl-2">
                  <label class="block text-gray-700 text-sm font-bold mb-2" for="remove">Remove</label>
                  <i class="fa fa-trash text-red-600 hover:text-red-800 cursor-pointer" (click)="removeItem(item)" title="Remove" style="padding-left: 25%"></i>
                </div>
              </div>
            </div>
          </div>
          <!-- Gross Amount Display -->
          <div class="flex justify-end mb-4">
            <div class="w-1/2">
              <div class="flex justify-between mb-2">
                <label class="block text-gray-700 text-sm font-bold" for="grossAmount">Gross Amount</label>
                <input class="shadow appearance-none border rounded w-1/2 py-2 px-3 text-gray-700 bg-gray-200 leading-tight focus:outline-none focus:shadow-outline"
                       id="grossAmount" type="text" [value]="grossAmount" readonly>
              </div>
            </div>
          </div>
          <!-- Place Order and Back Buttons -->
          <div class="flex items-center justify-start">
            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mr-2"
                    type="button" (click)="placeOrder()" [disabled]="!customerName || !customerPhone">
              Place Order
            </button>
            <button routerLink="/orders" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button">
              Back
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Footer -->
  <div class="text-xs text-gray-500 mt-4 text-center">
    Copyright Â© 2024-2024. All rights reserved. Version 1.0.0
  </div>
</div>
